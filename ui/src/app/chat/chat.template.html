<!-- chat.template.html -->
<section class="flex-1 flex flex-col">
  <!-- Chat Header -->
  <header class="p-4 border-b border-gray-200 flex items-center justify-between bg-white">
    <div>
      <h2 class="font-semibold text-gray-700">Conversation {{ convId }}</h2>
    </div>
  </header>

  <!-- Messages -->
  <div class="flex-1 overflow-y-auto p-4 space-y-5">
    <div *ngFor="let msg of convo.messages()">
      <chat-bubble [role]="msg.role" [message]="msg.content"></chat-bubble>
    </div>
  </div>

  <!-- Input -->
  <footer class="sticky bottom-0 p-4 border-t border-gray-200 bg-white flex items-center gap-2">
    <input
      [(ngModel)]="prompt"
      (keydown.enter)="send()"
      type="text"
      placeholder="Type a message..."
      class="flex-1 px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"
    />
    <button
      (click)="send()"
      class="bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition"
    >
      Send
    </button>
  </footer>
</section>
